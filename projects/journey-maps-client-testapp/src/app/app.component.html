<div class="page-container">
  <h2>Journey-Maps-Client</h2>

  <div class="map">
    <!--  Do not use this API key in production. Contact dlrokas@sbb.ch to get your own.-->
    <rokas-journey-maps-client
      language="en"
      apiKey="e500c71b8c83c1cfb2170608582ae9c8"
      [markers]="markers"
      [journey]="journey"
      [transfer]="transfer"
      [routes]="routes"
      [zoomLevel]="zoomLevel"
      [showLevelSwitch]="showLevelSwitch"
      (zoomLevelChanged)="zoomLevelChanged=$event"
      [mapCenter]="mapCenter"
      (mapCenterChanged)="mapCenterChanged=$event"
      [markerDetailsTemplate]=""
      [(selectedMarkerId)]="selectedMarkerId"
      [allowOneFingerPan]="allowOneFingerPan"
      [popup]="false"
    >
    </rokas-journey-maps-client>

    <!--  Set [markerDetailsTemplate]="markerDetailsTemplate" to overwrite default template. Example. -->
    <ng-template #markerDetailsTemplate let-marker>
      <h1 style="color: red">{{marker.title}}</h1>
      <div>{{marker.subtitle}}</div>
    </ng-template>
  </div>

  <div>
    <ul>
      <li style="list-style: circle;">
        <button
          style="background-color: white; border-width: 1px; border-radius: 5px; margin: 5px 5px 0 0;"
          (click)="setSelecteMarkerId('home')"
        >select 'Home Office' Marker</button>
        <button
          style="background-color: white; border-width: 1px; border-radius: 5px; margin: 5px 5px 0 0;"
          (click)="setSelecteMarkerId(undefined)"
        >unselect all Markers</button>
      </li>
      <li style="list-style: circle;">Selected Marker ID: <span *ngIf="selectedMarkerId">{{selectedMarkerId}}</span></li>
      <li style="list-style: circle;">Zoom Level: {{zoomLevelChanged}}</li>
      <li style="list-style: circle;">Map center: {{mapCenterChanged}}</li>
      <li style="list-style: circle;">Allow moving the map with one finger: {{allowOneFingerPan}}</li>
      <li style="list-style: circle;">
        <label for="geo-json-select">
          Display GeoJSON data for:
          <select id="geo-json-select"
            style="width: 200px; min-height: 10px; padding: 0 5px; background-position: right; color: black;"
            (change)="setGeoJsonInput($event)"
          >
            <option [value]="" (change)="setGeoJsonInput($event)">(none)</option>
            <option *ngFor="let input of geoJsonInputs" [value]="input" (change)="setGeoJsonInput($event)">{{input}}</option>
          </select>
        </label>
      </li>
    </ul>
  </div>

  <div class="source">
    <app-source-highlight></app-source-highlight>
  </div>
</div>
